# M10 Power Management and Rate Configuration - Official Documentation Extract

**Source:** u-blox M10 SPG 5.10 Interface Description (UBX-21035062-R03)
**Date Extracted:** 2026-01-16
**Pages:** 147-149 (CFG-PM), 149 (CFG-RATE)

---

## CFG-PM: Power Management Configuration

**Section:** 4.9.15 (Page 147)
**Purpose:** Manage receiver power save modes (PSMOO or PSMCT)

### CFG-PM-OPERATEMODE

**Configuration Item:** CFG-PM-OPERATEMODE
**Key ID:** `0x20d00001`
**Type:** E1 (Enum, 1 byte)
**Scale:** -
**Unit:** -

**Description:**
General mode of operation. Setting this to either PSMOO or PSMCT will turn the corresponding mode on. Setting this to FULL will turn any PSM off. See the integration manual for details.

**Constants (Table 34):**

| Constant | Value | Description |
|----------|-------|-------------|
| **FULL** | **0** | **Normal operation, no power save mode active** |
| PSMOO | 1 | PSM ON/OFF operation |
| PSMCT | 2 | PSM cyclic tracking operation |

**For high performance / maximum update rate:** Set to `FULL` (0)

---

### Other CFG-PM Configuration Items

**CFG-PM-POSUPDATEPERIOD**
- Key ID: `0x40d00002` (U4)
- Unit: seconds
- Description: Position update period for PSMOO
- Range: >= 5 seconds and < seconds in a week (0 = wait for external events)

**CFG-PM-ACQPERIOD**
- Key ID: `0x40d00003` (U4)
- Unit: seconds
- Description: Acquisition period if receiver failed to achieve position fix
- Range: 0 = wait for external events

**CFG-PM-GRIDOFFSET**
- Key ID: `0x40d00004` (U4)
- Unit: seconds
- Description: Grid offset for power management

**CFG-PM-ONTIME**
- Key ID: `0x40d00005` (U4)
- Description: On time for power management modes

**CFG-PM-MINACQTIME**
- Key ID: `0x10d00006` (U1)
- Description: Minimum acquisition time

**CFG-PM-MAXACQTIME**
- Key ID: `0x10d00007` (U1)
- Description: Maximum acquisition time

**CFG-PM-DONOTENTEROFF**
- Key ID: `0x10d00008` (L)
- Description: Don't enter OFF mode

**CFG-PM-WAITTIMEFIX**
- Key ID: `0x10d00009` (L)
- Description: Wait for time fix

**CFG-PM-UPDATEEPH**
- Key ID: `0x10d0000a` (L)
- Description: Update ephemeris

**CFG-PM-EXTINTWAKE**
- Key ID: `0x10d0000b` (L)
- Description: EXTINT wake enable

**CFG-PM-EXTINTBACKUP**
- Key ID: `0x10d0000c` (L)
- Description: EXTINT backup enable

**CFG-PM-EXTINTINACTIVE**
- Key ID: `0x10d0000d` (L)
- Description: Enable force backup if EXTINT inactive

**CFG-PM-EXTINTINACTIVITY**
- Key ID: `0x40d0000e` (U4)
- Description: EXTINT inactivity time

**CFG-PM-LIMITPEAKCURR**
- Key ID: `0x10d0000f` (L)
- Description: Limit peak current

---

## CFG-RATE: Navigation and Measurement Rate Configuration

**Section:** 4.9.17 (Page 149)
**Purpose:** Configure rate at which navigation solutions and measurements are generated

**Overview:**
The configuration items in this group allow the user to alter the rate at which navigation solutions (and the measurements that they depend on) are generated by the receiver. The calculation of the navigation solution will always be aligned to the top of a second zero (first second of the week) of the configured reference time system. The navigation period is an integer multiple of the measurement period.

---

### CFG-RATE-MEAS

**Configuration Item:** CFG-RATE-MEAS
**Key ID:** `0x30210001`
**Type:** U2 (Unsigned 16-bit)
**Scale:** 0.001
**Unit:** s (seconds)

**Description:**
Nominal time between GNSS measurements.

**Examples:**
- 100 ms → 10 Hz measurement rate
- 1000 ms → 1 Hz measurement rate

**Range:**
- **Minimum value: 25** (25ms = 40 Hz)
- Maximum value: 65535 (65.535 seconds = 0.015 Hz)

**For 10 Hz:** Set to `100` (100 milliseconds)
**For 8 Hz:** Set to `125` (125 milliseconds)
**For 25 Hz:** Set to `40` (40 milliseconds)

---

### CFG-RATE-NAV

**Configuration Item:** CFG-RATE-NAV
**Key ID:** `0x30210002`
**Type:** U2 (Unsigned 16-bit)
**Scale:** -
**Unit:** -

**Description:**
Ratio of number of measurements to number of navigation solutions.

**Examples:**
- 5 = five measurements for every navigation solution
- 1 = every measurement produces a navigation solution (typical)

**Range:**
- Minimum: 1
- Maximum: 127

**Typical value:** `1` (navigation solution for each measurement)

---

### CFG-RATE-TIMEREF

**Configuration Item:** CFG-RATE-TIMEREF
**Key ID:** `0x20210003`
**Type:** E1 (Enum, 1 byte)
**Scale:** -
**Unit:** -

**Description:**
Time system to which measurements are aligned.

**Constants (Table 37):**

| Constant | Value | Description |
|----------|-------|-------------|
| UTC | 0 | UTC time |
| GPS | 1 | GPS time |
| GLONASS | 2 | GLONASS time |
| BDS | 3 | BeiDou time |
| GAL | 4 | Galileo time |

**Typical value:** `1` (GPS time) or `0` (UTC)

---

## Legacy UBX-CFG-PM2 Message

**Important Note:** The Extended power management configuration message `UBX-CFG-PM2` is **no longer supported** in M10 SPG 5.10 and later firmware.

**Migration Path (Section 5.1, page 173):**

| Legacy Message | Modern Configuration Key |
|---------------|-------------------------|
| UBX-CFG-PM2.doNotEnterOff | CFG-PM-DONOTENTEROFF |
| UBX-CFG-PM2.extintBackup | CFG-PM-EXTINTBACKUP |
| UBX-CFG-PM2.extintInactive | CFG-PM-EXTINTINACTIVE |
| UBX-CFG-PM2.extintInactivityMs | CFG-PM-EXTINTINACTIVITY |
| UBX-CFG-PM2.extintWake | CFG-PM-EXTINTWAKE |

**For M9 and earlier:** Use UBX-CFG-PM2 message
**For M10 (SPG 5.10+):** Use CFG-PM-* configuration keys via UBX-CFG-VALSET

---

## Configuration Defaults (Table 75, page 175)

**CFG-RATE-MEAS:**
- Default: `1000` (1000ms = 1 Hz)

**CFG-RATE-NAV:**
- Default: `1` (navigation solution every measurement)

**CFG-RATE-TIMEREF:**
- Default: `0` (UTC time)

**CFG-PM-OPERATEMODE:**
- Default: `0` (FULL - no power save mode)

---

## Implementation Notes for INAV

### To Enable High Performance Mode on M10:

1. **Set Power Mode to FULL (if not already default):**
   ```c
   ubx_config_data8_payload_t pmValues[] = {
       {0x20d00001, 0}  // CFG-PM-OPERATEMODE = FULL
   };
   ubloxSendSetCfgBytes(pmValues, 1);
   ```

2. **Set Measurement Rate:**
   ```c
   ubx_config_data16_payload_t rateValues[] = {
       {0x30210001, 100},  // CFG-RATE-MEAS = 100ms (10 Hz)
       {0x30210002, 1}     // CFG-RATE-NAV = 1
   };
   ubloxSendSetCfgU2(rateValues, 2);
   ```

### To Query Current Mode:

Use **UBX-CFG-VALGET** message to query:
- CFG-PM-OPERATEMODE (0x20d00001) - Check if in FULL mode
- CFG-RATE-MEAS (0x30210001) - Check current update rate

---

## Key Findings

1. **Default power mode is FULL (0)** - No power save by default
2. **Minimum measurement rate is 25ms** - Supports up to 40 Hz theoretically
3. **M10 does NOT require explicit high-performance mode enablement** - It's the default!
4. **CFG-PM2 message is deprecated** - Use CFG-PM-* keys instead

---

## Datasheet vs. Reality

**Datasheet update rates (Table 1) are recommendations, not hard limits imposed by power mode.**

The datasheet shows different rates for "Default" vs "High Performance" modes, but according to the Interface Description:
- **Default CFG-PM-OPERATEMODE = FULL (0)** (no power save)
- The datasheet's "High Performance" likely refers to optimal constellation/signal conditions, not a different power mode
- The varying rates by constellation count may be due to **processing load** not **power management restrictions**

**This means:**
- M10 ships in "high performance" mode by default (CFG-PM-OPERATEMODE = FULL)
- The constellation-specific rate limits are **processing/signal quality limits**, not configuration options
- Lower rates with more constellations are **recommended** for signal quality, not enforced by power settings

---

## Implications for Jetrell's Testing

With 4 constellations at 10Hz:
- M10 was likely already in FULL (high performance) mode
- The poor signal quality was due to **processing overload**, not power save mode
- Reducing to 6-8Hz reduced processing load, improving satellite tracking
- **Confirms:** Rate limits are processing/hardware limits, not software configuration

---

**Document Status:** Official extract complete
**Source Verified:** u-blox M10 SPG 5.10 Interface Description UBX-21035062-R03
**Extraction Date:** 2026-01-16
