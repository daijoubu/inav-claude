# INAV 9.0.0 - PHASE 9: Final Pre-Publish Checklist

**Date:** 2026-01-15
**Status:** READY FOR DEVELOPER REVIEW

---

## COMPREHENSIVE PRE-PUBLISH VERIFICATION

This checklist consolidates all critical verifications before publishing the final 9.0.0 release.

---

## âœ… PHASE 0-3: ARTIFACT VERIFICATION (COMPLETED)

### Target Commits
- [x] **Firmware:** `a7932b92eadd92ba7851a009a5c974b9cc24835d` (upstream/maintenance-9.x)
- [x] **Configurator:** `882c18386e7e5eddce15e7d03e9a6868caae8a8b` (CI build Jan 14, 2026)

### Firmware Files
- [x] **Count:** 225 hex files (expected ~219-225)
- [x] **Location:** `claude/release-manager/downloads/firmware-9.0.0/`
- [x] **Naming:** `inav_9.0.0_TARGET.hex` (NO "RC" suffix)
- [x] **Format:** Valid Intel HEX (checked 5 random files)
- [x] **Size:** All files > 100 KB

### Configurator Files
- [x] **Count:** 14 files total
  - [x] Linux: 6 files (2 DEB, 2 RPM, 2 ZIP)
  - [x] macOS: 4 files (2 DMG, 2 ZIP)
  - [x] Windows: 4 files (2 MSI, 2 ZIP)
- [x] **Location:** `claude/release-manager/downloads/configurator-9.0.0-upload/`
- [x] **Organization:** Separated by platform (linux/, macos/, windows/)

### Critical Platform Verifications

#### macOS DMG - NO Windows Contamination âœ…
- [x] Script: `verify-dmg-contents.sh` executed
- [x] **Result:** NO .exe, .dll, or .msi files found
- [x] **Result:** NO Linux binaries found
- [x] **Result:** ONLY macOS/darwin SITL directory present
- [x] **Architecture:** Correct (arm64 vs x64 matches filename)
- [x] **Binary Format:** Valid Mach-O executable
- [x] **Fix Reference:** PR #2508 (Windows contamination prevention)

#### Windows SITL - cygwin1.dll Present âœ…
- [x] Script: `verify-windows-sitl.sh` executed
- [x] **cygwin1.dll:** PRESENT (3.01 MB)
- [x] **inav_SITL.exe:** PRESENT
- [x] **Location:** resources/sitl/windows/
- [x] **Requirement:** Users CANNOT run Windows SITL without cygwin1.dll

#### Linux SITL - glibc Compatibility âœ…
- [x] **glibc Version:** 2.34
- [x] **Ubuntu 22.04 LTS Compatibility:** YES (requires glibc <= 2.35)
- [x] **Method:** `objdump -T` inspection
- [x] **Build Reference:** Updated in RC4 workflow

---

## âœ… PHASE 6-7: GITHUB RELEASES (COMPLETED)

### Draft Releases Created
- [x] **Firmware:** https://github.com/iNavFlight/inav/releases/tag/9.0.0
- [x] **Configurator:** https://github.com/iNavFlight/inav-configurator/releases/tag/9.0.0

### Firmware Release Configuration
- [x] **Tag:** `9.0.0` (NOT `9.0.0-RC4`)
- [x] **Target Commit:** `a7932b92eadd92ba7851a009a5c974b9cc24835d`
- [x] **Draft:** `true` (not published yet)
- [x] **Pre-release:** `false` âœ… **CRITICAL - CORRECT FOR FINAL RELEASE**
- [x] **Title:** "INAV 9.0.0"
- [x] **Assets:** 225 files uploaded

### Configurator Release Configuration
- [x] **Tag:** `9.0.0` (NOT `9.0.0-RC4`)
- [x] **Target Commit:** `882c18386e7e5eddce15e7d03e9a6868caae8a8b`
- [x] **Draft:** `true` (not published yet)
- [x] **Pre-release:** `false` âœ… **CRITICAL - CORRECT FOR FINAL RELEASE**
- [x] **Title:** "INAV Configurator 9.0.0"
- [x] **Assets:** 14 files uploaded

### Upload Process Notes
- [x] **Firmware:** Uploaded in sandbox mode successfully
- [x] **Configurator:** Required `dangerouslyDisableSandbox: true` due to large files (100-157 MB)
- [x] **TLS Errors:** Encountered and resolved by disabling sandbox
- [x] **All Assets:** Successfully uploaded

---

## âš ï¸ PHASE 8: RELEASE NOTES (USER IN PROGRESS)

### Release Notes Format
- [x] **Format Corrected:** Changed from individual RC sections to COMBINED approach
- [x] **Firmware Notes:** `claude/release-manager/drafts/9.0.0-firmware-release-notes.md`
- [x] **Configurator Notes:** `claude/release-manager/drafts/9.0.0-configurator-release-notes.md`

### Content Structure (Both Releases)
- [x] **Section 1:** Changes in 9.0.0 (since RC4) - Recent changes
- [x] **Section 2:** Major Changes in 9.0 Since 8.0.1 - COMBINED RC1-RC4 content
  - [x] Organized into logical categories
  - [x] All RC changes included (NOT removed)
  - [x] Comprehensive for users upgrading from 8.0.1
- [x] **Section 3:** Important Upgrade Information
  - [x] Flashing instructions
  - [x] Incompatible settings (if applicable)
  - [x] Full changelog links

### Documentation Updates
- [x] **Guide Updated:** `claude/release-manager/guides/5-changelog-and-notes.md`
- [x] **New Section:** "Final Release Notes Pattern" added
- [x] **Pattern Documented:** Combine RC content instead of listing individually

### Current Status
- [ ] **User Action:** Updating release notes on GitHub web interface
- [ ] **Developer Review:** Pending feedback on release notes content
- [ ] **Publication:** HOLD until approved

---

## âœ… PHASE 9: FINAL CHECKLIST ITEMS

### Release Configuration Final Checks
- [x] Both releases in DRAFT mode (not yet published)
- [x] Neither release has pre-release flag set âœ… **CRITICAL**
- [x] Tags are `9.0.0` (NOT `9.0.0-RC4`)
- [x] Titles do not include "RC" designation
- [x] Target commits verified against build artifacts

### Asset Verification Final Checks
- [x] Firmware: 225/225 files uploaded
- [x] Configurator: 14/14 files uploaded
- [x] macOS DMG: NO Windows contamination
- [x] Windows SITL: cygwin1.dll present
- [x] Linux SITL: glibc compatible

### Documentation Final Checks
- [x] Release notes drafted and corrected
- [x] Release notes format follows "Final Release" pattern
- [x] Incompatible settings documented (if any)
- [x] Full changelog links prepared

---

## ðŸš¦ GO/NO-GO DECISION CRITERIA

### READY FOR PUBLICATION âœ…
All technical requirements met:
- âœ… All artifacts verified
- âœ… All assets uploaded
- âœ… Draft releases configured correctly
- âœ… Pre-release flags NOT set (critical)
- âœ… Tags and commits correct
- âœ… Critical platform verifications passed

### HOLDING FOR APPROVAL â¸ï¸
Awaiting non-technical approval:
- â¸ï¸ User completing release notes update on GitHub
- â¸ï¸ Developer feedback on release notes content
- â¸ï¸ Final sign-off from maintainers

### BLOCKERS âŒ
None identified.

---

## NEXT ACTIONS

### Immediate (User)
1. Complete release notes update on GitHub web interface
2. Request developer review of release notes

### After Developer Approval
1. Address any feedback on release notes
2. Proceed to **PHASE 10: Publication**
   ```bash
   gh release edit 9.0.0 --repo iNavFlight/inav --draft=false
   gh release edit 9.0.0 --repo iNavFlight/inav-configurator --draft=false
   ```

### Post-Publication (PHASE 11)
1. Verify both releases show "Latest" badge
2. Announce on Discord (#announcements)
3. Create maintenance branches (maintenance-9.x, maintenance-10.x)
4. Monitor GitHub issues for critical bugs
5. Archive this release checklist as completed

---

## TECHNICAL NOTES

### Sandbox Limitations Encountered
- **Issue:** Large configurator files (100-157 MB) failed to upload in sandbox mode
- **Error:** `tls: bad record MAC`, `tls: protocol version not supported`
- **Solution:** Used `dangerouslyDisableSandbox: true` for configurator uploads
- **Lesson:** Firmware hex files (smaller, 1-2 MB) upload fine in sandbox

### gh CLI Limitations
- **Issue:** `gh release edit --notes-file` not supported in this version
- **Workaround:** Manual update via GitHub web interface

### Build Sources
- **Firmware:** Built locally from `inav/build/` directory
- **Configurator:** Downloaded from CI artifacts (build date: Jan 14, 2026)

---

## FILE LOCATIONS

**Release Notes (Local):**
- `claude/release-manager/drafts/9.0.0-firmware-release-notes.md`
- `claude/release-manager/drafts/9.0.0-configurator-release-notes.md`

**Artifacts (Local):**
- Firmware: `claude/release-manager/downloads/firmware-9.0.0/` (225 files)
- Configurator: `claude/release-manager/downloads/configurator-9.0.0-upload/` (14 files)

**Status Documents:**
- `claude/release-manager/9.0.0-RELEASE-STATUS.md`
- `claude/release-manager/9.0.0-PHASE8-REVIEW.md`
- `claude/release-manager/9.0.0-PHASE9-PRE-PUBLISH-CHECKLIST.md` (this file)

**Master Checklist:**
- `claude/release-manager/9.0.0-FINAL-RELEASE-CHECKLIST.md` (655 lines, 11 phases)

**Verification Scripts:**
- `claude/release-manager/verify-dmg-contents.sh`
- `claude/release-manager/verify-windows-sitl.sh`
- `claude/release-manager/find-incompatible-settings.sh`

---

## SUMMARY

**Status:** âœ… TECHNICALLY READY FOR PUBLICATION

All technical requirements for the INAV 9.0.0 final release have been met. The releases are correctly configured, all assets are uploaded, and critical verifications have passed.

**Holding for:** Developer review and approval of release notes content.

**Recommendation:** Proceed to publication once developer feedback is incorporated.

---

**Checklist completed:** 2026-01-15 22:50 UTC
**Release Manager:** Claude
**Next Phase:** PHASE 10 (Publication) - AWAITING APPROVAL
