# INAV 9.0.0-RC4 Firmware Release Notes

**Release Candidate 4 for Testing**

This is a pre-release for testing purposes. Please report issues on GitHub.

---

## Changes in RC4 (since RC3)

### Bug Fixes
- **USB MSC (Mass Storage)**: Fix H743 USB MSC regression, add timeout protection and retry logic for SD card access
- **Power Limiting**: Fix power limiting treating 0 (disabled) as less than continuous current
- **CRSF Telemetry**: Fix buffer overflow and dashboard sizeof bug
- **Airspeed TPA**: Fix floating-point division in throttle adjustment calculation
- **Logic Conditions**: Guard against increasing max conditions beyond 64
- **Critical Bugs**: Fix integer overflow and buffer overrun issues (cppcheck)

### New Features
- **Puya Flash Support**: Add support for Puya PY25Q128HA flash chip (16MB SPI NOR)
- **Airspeed TPA**: Add pitch angle aware TPA with airspeed support
- **MSP Protocol**: Add MSP2_INAV_LOGIC_CONDITIONS_CONFIGURED command for optimized loading
- **Pitot**: Raise pitot_lpf_milli_hz default

### Target Changes
- **BLUEBERRYF435WING**: Disable dynamic notch filter by default
- **OMNIBUSF4V3_ICM**: New target variant

### Documentation
- Add Power and Current Limiting documentation
- Update JavaScript Programming documentation for namespaced syntax
- Add maintenance branch workflow documentation

### Build/CI
- Include cygwin1.dll in Windows SITL artifact (fixes Windows SITL)

---

## Cumulative Changes (RC1 through RC4)

See the [full 9.0.0 Release Notes](https://github.com/iNavFlight/inav/wiki/9.0.0-Release-Notes) for all changes since 8.0.

### Highlights
- JavaScript-based Logic Conditions programming
- Enhanced navigation features
- Improved OSD customization
- New target support

---

## Flashing Notes

- **Full chip erase recommended** when upgrading from 8.x or earlier RC versions
- Back up your configuration before flashing
- Review [9.0.0 Release Notes](https://github.com/iNavFlight/inav/wiki/9.0.0-Release-Notes) for breaking changes

---

## Testing Focus for RC4

Please test and report issues with:
1. USB Mass Storage on H7 boards
2. Power limiting functionality
3. Airspeed TPA if using pitot
4. Puya PY25Q128HA flash chip detection
5. Windows SITL functionality

---

**Full Changelog:** https://github.com/iNavFlight/inav/compare/9.0.0-RC3...9.0.0-RC4
